{"title":"初次使用Hexo遇到的一些问题","slug":"transfer-to-hexo","date":"2015-07-29T14:40:46.000Z","updated":"2016-03-21T20:20:48.000Z","comments":true,"path":"api/articles/transfer-to-hexo.json","excerpt":"今天把Blog从Wordpress迁移到了Hexo，初次使用静态Blog，遇到了一些问题，整理如下。( 部分问题可能仅存在于OS X系统 )安装Hexo报错安装流程是按照Node.js官方指导，下载安装包一步一步安装，Node.js和npm同时由Node.js提供的包安装。此时执行1<br>2<br>node -v<br>npm -v<br>版本号正常显示问题：安装Hexo，执行以下命令时报错。1<br>npm install hexo-cli -g<br>","covers":null,"content":"<p>今天把Blog从Wordpress迁移到了Hexo，初次使用静态Blog，遇到了一些问题，整理如下。( 部分问题可能仅存在于OS X系统 )</p>\n<h3 id=\"安装Hexo报错\"><a href=\"#安装Hexo报错\" class=\"headerlink\" title=\"安装Hexo报错\"></a>安装Hexo报错</h3><p>安装流程是按照Node.js官方指导，下载安装包一步一步安装，Node.js和npm同时由Node.js提供的包安装。</p>\n<p>此时执行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node -v</span><br><span class=\"line\">npm -v</span><br></pre></td></tr></table></figure>\n<p>版本号正常显示</p>\n<p>问题：安装Hexo，执行以下命令时报错。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>因错误信息中注明no permission to access，以为是权限问题。</p>\n<p>然后执行命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n<p>错误依然抛出。</p>\n<p><em>后来在<a href=\"http://stackoverflow.com/questions/15633029/npm-no-longer-working\" target=\"_blank\" rel=\"noopener\">StackOverflow</a>找到解决办法：</em></p>\n<p>原因出在OS X版npm安装包上，需要下载npm源代码重新Make并安装。</p>\n<ol>\n<li><p>通过执行以下命令下载npm源代码重Make并安装</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> http://github.com/isaacs/npm.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> npm</span><br><span class=\"line\">sudo make install</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ol start=\"2\">\n<li><p>安装Hexo</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>   此时hexo已经正确安装。</p>\n<hr>\n<h3 id=\"更改主题后本地显示正常，部署后无法加载CSS\"><a href=\"#更改主题后本地显示正常，部署后无法加载CSS\" class=\"headerlink\" title=\"更改主题后本地显示正常，部署后无法加载CSS\"></a>更改主题后本地显示正常，部署后无法加载CSS</h3><p>使用默认主题landscape时，本地和部署后都可以正常显示。然而更换主题后，本地测试正常，部署后排版错乱，显然没有正确加载所需的CSS样式。</p>\n<p>问题出在Hexo站点根目录的_config.yml文件上。</p>\n<p><em>解决方法：</em></p>\n<ul>\n<li>最初测试时，为了不影响站点使用，我将站点绑定至二级域名pages.jerryshao.com，并将_config.yml文件中url属性设置为pages.jerryshao.com，此时本地和远端均正常显示。</li>\n<li>在将根域名解析过去以后，_config.yml中url属性没有及时更改，且该属性不会影响本地测试。将url改为新的网站地址，CSS样式加载正常，问题解决。</li>\n<li>在几个平台回答了遇到同样问题的网友，大概都是因为忘记修改_config.yml文件中url属性所致。</li>\n</ul>\n","more":"<p>因错误信息中注明no permission to access，以为是权限问题。</p>\n<p>然后执行命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n<p>错误依然抛出。</p>\n<p><em>后来在<a href=\"http://stackoverflow.com/questions/15633029/npm-no-longer-working\" target=\"_blank\" rel=\"noopener\">StackOverflow</a>找到解决办法：</em></p>\n<p>原因出在OS X版npm安装包上，需要下载npm源代码重新Make并安装。</p>\n<ol>\n<li><p>通过执行以下命令下载npm源代码重Make并安装</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> http://github.com/isaacs/npm.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> npm</span><br><span class=\"line\">sudo make install</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<ol start=\"2\">\n<li><p>安装Hexo</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo npm install hexo-cli -g</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>   此时hexo已经正确安装。</p>\n<hr>\n<h3 id=\"更改主题后本地显示正常，部署后无法加载CSS\"><a href=\"#更改主题后本地显示正常，部署后无法加载CSS\" class=\"headerlink\" title=\"更改主题后本地显示正常，部署后无法加载CSS\"></a>更改主题后本地显示正常，部署后无法加载CSS</h3><p>使用默认主题landscape时，本地和部署后都可以正常显示。然而更换主题后，本地测试正常，部署后排版错乱，显然没有正确加载所需的CSS样式。</p>\n<p>问题出在Hexo站点根目录的_config.yml文件上。</p>\n<p><em>解决方法：</em></p>\n<ul>\n<li>最初测试时，为了不影响站点使用，我将站点绑定至二级域名pages.jerryshao.com，并将_config.yml文件中url属性设置为pages.jerryshao.com，此时本地和远端均正常显示。</li>\n<li>在将根域名解析过去以后，_config.yml中url属性没有及时更改，且该属性不会影响本地测试。将url改为新的网站地址，CSS样式加载正常，问题解决。</li>\n<li>在几个平台回答了遇到同样问题的网友，大概都是因为忘记修改_config.yml文件中url属性所致。</li>\n</ul>","categories":[{"name":"Web","path":"api/categories/Web.json"}],"tags":[{"name":"hexo","path":"api/tags/hexo.json"}]}